{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-6">ðŸ“‹ TwÃ³j portfel kryptowalut</h1>

<form id="add-form" class="bg-gray-800 p-4 rounded shadow mb-6">
  <div class="flex flex-col sm:flex-row gap-4">
    <div class="flex-1">
      <label for="crypto" class="block mb-1 text-sm">Symbol kryptowaluty:</label>
      <input type="text" name="crypto" id="crypto" list="crypto-list"
             required class="bg-gray-700 border border-gray-600 rounded px-3 py-2 w-full">
      <datalist id="crypto-list">
        <!-- UzupeÅ‚niane przez JS -->
      </datalist>
    </div>

    <div class="flex-1">
      <label for="amount" class="block mb-1 text-sm">IloÅ›Ä‡:</label>
      <input type="number" name="amount" id="amount" step="any" required
             class="bg-gray-700 border border-gray-600 rounded px-3 py-2 w-full">
    </div>

    <div class="flex items-end">
      <button type="submit"
              class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow transition">âž• Dodaj</button>
    </div>
  </div>
</form>

<hr class="my-6 border-gray-600">

<h2 class="text-xl font-semibold mb-3">ðŸ’¼ ZawartoÅ›Ä‡ portfela</h2>

<table class="table-auto w-full border border-gray-700 text-sm" id="portfolio-table">
  <thead class="bg-gray-700">
    <tr>
      <th class="px-4 py-2 text-left">Kryptowaluta</th>
      <th class="px-4 py-2 text-left">IloÅ›Ä‡</th>
      <th class="px-4 py-2 text-left">Cena</th>
      <th class="px-4 py-2 text-left">WartoÅ›Ä‡</th>
      <th class="px-4 py-2 text-left">Akcje</th>
    </tr>
  </thead>
  <tbody>
    <!-- dynamicznie Å‚adowane -->
  </tbody>
</table>

<p class="mt-4 font-bold">ðŸ’° WartoÅ›Ä‡ caÅ‚kowita: <span id="total-value" class="text-green-400">0.00 USD</span></p>
{% endblock %}

{% block scripts %}
<script type="module" src="{{ url_for('static', filename='dashboard.js') }}"></script>
<script>
// Efekt fade-in dla nowego wiersza
function fadeInRow(row) {
  row.classList.add("opacity-0");
  row.classList.add("transition-opacity", "duration-500");
  setTimeout(() => row.classList.remove("opacity-0"), 10);
}
window.fadeInRow = fadeInRow;
</script>
{% endblock %}
